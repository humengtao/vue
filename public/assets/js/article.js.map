{"version":3,"sources":["article.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"article.js","sourcesContent":["$(function () {\n    var page_latest = 3;\n    var page_hottest = 3;\n    $('.thumbnail img').height($('.thumbnail img').width());\n    $(window).resize(function () {\n        $('.thumbnail img').height($('.thumbnail img').width());\n    })\n\n    $('.show-more').click(function () {\n        $(this).css('backgroundColor', '#fff').find('span').hide();\n        $(this).find('img').show();\n        var status = $(this).data('status');\n        switch (status) {\n            case 'hottest':\n                var page = page_hottest++;\n                break;\n            default:\n                var page = page_latest++;\n                break;\n        }\n        $.ajax('/api/articles-list?page=' + page, {\n            headers: {\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n            },\n            type: 'GET',\n            data: {status: status},\n            success: function (data) {\n                if (data.next_page_url == null) {\n                    $('.show-more[data-status=' + status + ']').text('No More !').css('backgroundColor','#5cb85c').attr('disabled', 'disabled');\n                }\n                if (data.data != '') {\n                    var data = data.data;\n                    data.map(function (index) {\n                        var text = tmpl('article-list', index);\n                        $('#' + status).append(text);\n                    });\n                    $('.show-more[data-status=' + status + ']').find('span').show();\n                    $('.show-more[data-status=' + status + ']').css('backgroundColor', '#5cbe5c').find('img').hide();\n                }\n            },\n            error: function () {\n                alert('请求失败');\n            }\n        });\n    });\n});\n"],"sourceRoot":"/source/"}